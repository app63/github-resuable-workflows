name: Sample Action Workflow
on:
  workflow_dispatch:
    inputs:
      name:
        description: "Name to greet"
        required: true
      day:
        description: "Day of the week"
        required: false
        default: "Monday"

permissions:
  id-token: write
  contents: read

jobs:
  sample-action:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Sample Action Repository
        uses: actions/checkout@v5
        with:
          repository: app63/sample-action
          ref: v1
          token: ${{ secrets.PAT_FOR_SAMPLE_ACTION }}
          path: .github/actions/sample-action
      - name: Sample Action
        uses: ./.github/actions/sample-action
        id: sample-action
        with:
          name: ${{ github.event.inputs.name }}
          day: ${{ github.event.inputs.day }}
      - name: Output
        run: |
          echo "GREETING: ${{ steps.sample-action.outputs.token }}"
